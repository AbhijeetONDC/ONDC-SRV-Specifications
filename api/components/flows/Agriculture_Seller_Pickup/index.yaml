summary: Agriculture Seller Pickup
description: The following is an illustrative flow to perform a transaction of a nature where a buyer would like to order home services. The booking majorly happens in four phases of order processing flow, i.e. Discovery of available services and service providers based on serviceability, order, fulfillment and post-fulfillment.
details:
  - description: Sequence Diagram for Booking Home Service
    mermaidGraph: >-
      sequenceDiagram
        title Booking Home Services
        participant SRV BAP
        participant SRV BPP

        note over SRV BAP, SRV BPP: Service Discovery
        SRV BAP ->> SRV BPP: **/search** - Search intent sent by the buyer based on<br/>the service required 
        activate SRV BPP
        SRV BPP ->> SRV BAP: **/on_search** - Seller Returns the catalog specific to<br/> the search intent + available schedule
        deactivate SRV BPP

        note over SRV BAP, SRV BPP: Order Placement
        SRV BAP ->> SRV BPP: **/select** - Buyer adds the service to cart and <br/>selects the schedule for Home Service
        activate SRV BPP
        SRV BPP ->> SRV BAP: **/on_select** - Seller confirms the schedule and returns the quote
        deactivate SRV BPP

        SRV BAP ->> SRV BPP: **/init** - Buyer initialises the order and provides billing details
        activate SRV BPP
        SRV BPP ->> SRV BAP: **/on_init** - Seller provides the final quotation and<br/>creates the draft contract
        deactivate SRV BPP

        SRV BAP ->> SRV BPP: **/confirm** - Buyer makes the payment and creates the order
        activate SRV BPP
        SRV BPP ->> SRV BAP: **/on_confirm** - Seller accepts the order
        deactivate SRV BPP


        
        note over SRV BAP, SRV BPP: Order Fulfillment
        SRV BAP ->> SRV BPP: **/status** - Buyer requests for a status
        SRV BPP ->> SRV BAP: **/on_status** -  Seller app sends order status update when<br/>service provider is on the way
        SRV BPP ->> SRV BAP: **/on_status** -  Seller app sends order status update when<br/>service provider has reached<br/>the buyer location and seller app generates an OTP.
        SRV BPP ->> SRV BAP: **/on_status** -  Buyer shares the OTP with service provider and<br/>Seller app sends order status as Service started.
        SRV BPP ->> SRV BAP: **/on_status** -  Seller app sends order status update when<br/>service is completed
        

reference: if any
steps:
  - summary: Search based on the 
    api: search
    description: Search intent sent by the buyer based on the item required - e.g. Soil Testing
    reference: if any
    example:
      $ref: "../../Examples/Agriculture_services_yaml/search/search_by_item.yaml"
  - summary: 
    api: on_search
    description: 
    reference: if any
    example:
      $ref: "../../Examples/Agriculture_services_yaml/on_search/on_search.yaml"
  - summary: 
    api: select
    description: 
    reference: if any
    example:
      $ref: "../../Examples/Agriculture_services_yaml/select/select.yaml"
  - summary: 
    api: on_select
    description: 
    reference: if any
    example:
      $ref: "../../Examples/Agriculture_services_yaml/on_select/on_select.yaml"
  - summary: 
    api: init
    description: 
    reference: if any
    example:
      $ref: "../../Examples/Agriculture_services_yaml/init/init.yaml"
  - summary:
    api: on_init
    description:
    reference: if any
    example:
      $ref: "../../Examples/Agriculture_services_yaml/on_init/on_init.yaml"
  - summary: 
    api: confirm
    description: 
    example:
      $ref: "../../Examples/Agriculture_services_yaml/confirm/confirm.yaml"
  - summary: 
    api: on_confirm
    description: 
    reference: if any
    example:
      $ref: "../../Examples/Agriculture_services_yaml/on_confirm/on_confirm.yaml"
  - summary: 
    api: status
    description: 
    example:
      $ref: "../../Examples/Agriculture_services_yaml/status/status.yaml"
  - summary: 
    api: on_status (In Transit)
    description: 
    reference: if any
    example:
      $ref: "../../Examples/Agriculture_services_yaml/on_status/on_status_transit.yaml"
  - summary: 
    api: on_status (At Location)
    description: 
    reference: if any
    example:
      $ref: "../../Examples/Agriculture_services_yaml/on_status/on_status_at_location.yaml"
  - summary: 
    api: on_status (Collected By Agent)
    description: 
    reference: if any
    example:
      $ref: "../../Examples/Agriculture_services_yaml/on_status/on_status_collected_by_agent.yaml"
  - summary: 
    api: on_status (Received At Lab)
    description: 
    reference: if any
    example:
      $ref: "../../Examples/Agriculture_services_yaml/on_status/on_status_received_at_lab.yaml"
  - summary: 
    api: on_status (Test Completed)
    description: 
    reference: if any
    example:
      $ref: "../../Examples/Agriculture_services_yaml/on_status/on_status_test_completed.yaml"
  - summary: 
    api: on_status (Report Generated)
    description: 
    reference: if any
    example:
      $ref: "../../Examples/Agriculture_services_yaml/on_status/on_status_report_generated.yaml"
  - summary: 
    api: on_status (Completed)
    description: 
    reference: if any
    example:
      $ref: "../../Examples/Agriculture_services_yaml/on_status/on_status_completed.yaml"

